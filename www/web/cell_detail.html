<!--
@author [Wankun Deng]
@email [dengwankun@gmail.com]
@create date 2023-04-27 15:32:36
@modify date 2023-04-27 15:50:22
@desc [description]
-->
<!DOCTYPE html>
<html>
<head>
  <title>Cell type</title>
  <style>
  @import url('css/te_table.css');
  </style>
  <style>
  @import url('css/highcharts.css');
  </style>
</head>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>


<body onload='init()'>

<div id="desc" style="width: 60%;"></div>
<div id="overview"> </div>
<div id="TE_quant"> </div>
<div id="Datasets"></div>

<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"> import * as d3 from "d3"</script>

<script src="js/forceGraph.js"> </script>

<script type="text/javascript">
    function init(){
        const urlParams = new URLSearchParams(window.location.search);
        $.get("/cgi/get_TE_basic.py",{Class: urlParams.get('Class') , Family: urlParams.get('Family'), Name: urlParams.get('Name')},
            function(response){
                document.getElementById('MainContent').style.display='block'
                $('#MainContent').html(response)
                document.title='scARE: '+urlParams.get('Class') + '/' + urlParams.get('Family') + '/' + urlParams.get('Name')
                // document.getElementById()
            }
        );
        $.get("/cgi/get_TE_dataset.py",{},function(response){
            document.getElementById('Datasets').style.display='block'
            $('#Datasets').html(response)
        });
        // // get josn data from cgi script get_network.py
        // $.get("/cgi/get_network.py",{Class: urlParams.get('Class') , Family: urlParams.get('Family'), Name: urlParams.get('Name'),Degree:'D2'},
        //     function(response){
        //         // console.log(response)
        //         const data = JSON.parse(response)
        //         // console.log(data)
        //         const graph = ForceGraph(data,
        //             {nodeId: d => d.id,
        //             nodeGroup: d => d.group,
        //             nodeLabel: d => d.id,
        //             nodeColor: d => d.group})
        //         // hover on node will show node id
        //         // graph.onNodeHover(node => { 
        //         //     graph.getElementById('node').textContent = node ? node.id : '';
        //         // });
        //         // insert graph to div network
        //         document.getElementById('network').appendChild(graph);
        //     });
        
    }
</script>
</body>
