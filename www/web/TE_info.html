<!DOCTYPE html>
<html>
<head>
  <title>TE infomation</title>
  <style>
  @import url('css/te_table.css');
  </style>
  <style>
  @import url('css/highchart.css');
  </style>
</head>

<script src="https://code.highcharts.com/highcharts.js"></script>
<script src="https://code.highcharts.com/modules/exporting.js"></script>
<script src="https://code.highcharts.com/modules/export-data.js"></script>
<script src="https://code.highcharts.com/modules/accessibility.js"></script>


<body onload='init()'>

<div id="MainContent" style="width: 60%;"></div>
<div id="network"> </div>
<div id="TE_quant"> </div>
<div id="Cell_umap"> 
  <figure class="highcharts-figure">
    <div id="container"></div>
    <!-- <p class="highcharts-description">
      Cell type and clustering in dataset 3.
    </p> -->
    <label for="cell_types">Cell type:</label>
    <select name="Cell types" id="cell_types">
      <option value=-1>All</option>
      <option value=0>Excitatory Neuron</option>
      <option value=1>Inhibitory Neuron</option>
      <option value=2>Oligodendrocyte Progenitor Cell</option>
      <option value=3>Oligodendrocyte</option>
      <option value=4>Astrocyte</option>
      <option value=5>Microglia</option>
      <option value=6>Pericyte</option>
    </select>
  </figure>
</div>
<script type="text/javascript" src="js/jquery-3.2.1.min.js"></script>
<script src="https://d3js.org/d3.v7.min.js"> import * as d3 from "d3"</script>

<script src="js/forceGraph.js"> </script>

<script type="text/javascript">
    function init(){
        const queryString = window.location.search;
        const urlParams = new URLSearchParams(queryString);
        $.get("/cgi/get_TE_basic.py",{Class: urlParams.get('Class') , Family: urlParams.get('Family'), Name: urlParams.get('Name')},
            function(response){
                document.getElementById('MainContent').style.display='block'
                $('#MainContent').html(response)
                document.title='scARE: '+urlParams.get('Class') + '/' + urlParams.get('Family') + '/' + urlParams.get('Name')
                // document.getElementById()
            }
        );
        // // get josn data from cgi script get_network.py
        // $.get("/cgi/get_network.py",{Class: urlParams.get('Class') , Family: urlParams.get('Family'), Name: urlParams.get('Name'),Degree:'D2'},
        //     function(response){
        //         // console.log(response)
        //         const data = JSON.parse(response)
        //         // console.log(data)
        //         const graph = ForceGraph(data,
        //             {nodeId: d => d.id,
        //             nodeGroup: d => d.group,
        //             nodeLabel: d => d.id,
        //             nodeColor: d => d.group})
        //         // hover on node will show node id
        //         // graph.onNodeHover(node => { 
        //         //     graph.getElementById('node').textContent = node ? node.id : '';
        //         // });
        //         // insert graph to div network
        //         document.getElementById('network').appendChild(graph);
        //     });
        
    }
</script>
<script src="js/umap.js" ></script>
</body>
